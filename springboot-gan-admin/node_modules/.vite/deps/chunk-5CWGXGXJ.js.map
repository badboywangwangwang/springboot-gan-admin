{
  "version": 3,
  "sources": ["../../element-plus/es/el-form/index.js"],
  "sourcesContent": ["import { defineComponent, watch, reactive, toRefs, provide, ref, computed, openBlock, createBlock, renderSlot } from 'vue';\nimport mitt from 'mitt';\n\nconst elFormKey = \"elForm\";\nconst elFormItemKey = \"elFormItem\";\nconst elFormEvents = {\n  addField: \"el.form.addField\",\n  removeField: \"el.form.removeField\"\n};\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nfunction useFormLabelWidth() {\n  const potentialLabelWidthArr = ref([]);\n  const autoLabelWidth = computed(() => {\n    if (!potentialLabelWidthArr.value.length)\n      return \"0\";\n    const max = Math.max(...potentialLabelWidthArr.value);\n    return max ? `${max}px` : \"\";\n  });\n  function getLabelWidthIndex(width) {\n    const index = potentialLabelWidthArr.value.indexOf(width);\n    if (index === -1) {\n      console.warn(\"[Element Warn][ElementForm]unexpected width \" + width);\n    }\n    return index;\n  }\n  function registerLabelWidth(val, oldVal) {\n    if (val && oldVal) {\n      const index = getLabelWidthIndex(oldVal);\n      potentialLabelWidthArr.value.splice(index, 1, val);\n    } else if (val) {\n      potentialLabelWidthArr.value.push(val);\n    }\n  }\n  function deregisterLabelWidth(val) {\n    const index = getLabelWidthIndex(val);\n    index > -1 && potentialLabelWidthArr.value.splice(index, 1);\n  }\n  return {\n    autoLabelWidth,\n    registerLabelWidth,\n    deregisterLabelWidth\n  };\n}\nvar script = defineComponent({\n  name: \"ElForm\",\n  props: {\n    model: Object,\n    rules: Object,\n    labelPosition: String,\n    labelWidth: {\n      type: [String, Number],\n      default: \"\"\n    },\n    labelSuffix: {\n      type: String,\n      default: \"\"\n    },\n    inline: Boolean,\n    inlineMessage: Boolean,\n    statusIcon: Boolean,\n    showMessage: {\n      type: Boolean,\n      default: true\n    },\n    size: String,\n    disabled: Boolean,\n    validateOnRuleChange: {\n      type: Boolean,\n      default: true\n    },\n    hideRequiredAsterisk: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\"validate\"],\n  setup(props, { emit }) {\n    const formMitt = mitt();\n    const fields = [];\n    watch(() => props.rules, () => {\n      fields.forEach((field) => {\n        field.removeValidateEvents();\n        field.addValidateEvents();\n      });\n      if (props.validateOnRuleChange) {\n        validate(() => ({}));\n      }\n    });\n    formMitt.on(elFormEvents.addField, (field) => {\n      if (field) {\n        fields.push(field);\n      }\n    });\n    formMitt.on(elFormEvents.removeField, (field) => {\n      if (field.prop) {\n        fields.splice(fields.indexOf(field), 1);\n      }\n    });\n    const resetFields = () => {\n      if (!props.model) {\n        console.warn(\"[Element Warn][Form]model is required for resetFields to work.\");\n        return;\n      }\n      fields.forEach((field) => {\n        field.resetField();\n      });\n    };\n    const clearValidate = (props2 = []) => {\n      const fds = props2.length ? typeof props2 === \"string\" ? fields.filter((field) => props2 === field.prop) : fields.filter((field) => props2.indexOf(field.prop) > -1) : fields;\n      fds.forEach((field) => {\n        field.clearValidate();\n      });\n    };\n    const validate = (callback) => {\n      if (!props.model) {\n        console.warn(\"[Element Warn][Form]model is required for validate to work!\");\n        return;\n      }\n      let promise;\n      if (typeof callback !== \"function\") {\n        promise = new Promise((resolve, reject) => {\n          callback = function(valid2, invalidFields2) {\n            if (valid2) {\n              resolve(true);\n            } else {\n              reject(invalidFields2);\n            }\n          };\n        });\n      }\n      if (fields.length === 0) {\n        callback(true);\n      }\n      let valid = true;\n      let count = 0;\n      let invalidFields = {};\n      for (const field of fields) {\n        field.validate(\"\", (message, field2) => {\n          if (message) {\n            valid = false;\n          }\n          invalidFields = __spreadValues(__spreadValues({}, invalidFields), field2);\n          if (++count === fields.length) {\n            callback(valid, invalidFields);\n          }\n        });\n      }\n      return promise;\n    };\n    const validateField = (props2, cb) => {\n      props2 = [].concat(props2);\n      const fds = fields.filter((field) => props2.indexOf(field.prop) !== -1);\n      if (!fields.length) {\n        console.warn(\"[Element Warn]please pass correct props!\");\n        return;\n      }\n      fds.forEach((field) => {\n        field.validate(\"\", cb);\n      });\n    };\n    const elForm = reactive(__spreadValues(__spreadProps(__spreadValues({\n      formMitt\n    }, toRefs(props)), {\n      resetFields,\n      clearValidate,\n      validateField,\n      emit\n    }), useFormLabelWidth()));\n    provide(elFormKey, elForm);\n    return {\n      validate,\n      resetFields,\n      clearValidate,\n      validateField\n    };\n  }\n});\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(\"form\", {\n    class: [\"el-form\", [\n      _ctx.labelPosition ? \"el-form--label-\" + _ctx.labelPosition : \"\",\n      { \"el-form--inline\": _ctx.inline }\n    ]]\n  }, [\n    renderSlot(_ctx.$slots, \"default\")\n  ], 2);\n}\n\nscript.render = render;\nscript.__file = \"packages/form/src/form.vue\";\n\nscript.install = (app) => {\n  app.component(script.name, script);\n};\nconst _Form = script;\n\nexport default _Form;\nexport { elFormEvents, elFormItemKey, elFormKey };\n"],
  "mappings": "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",
  "names": []
}
